"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_typeof2=_interopRequireDefault(require("@babel/runtime/helpers/typeof")),_state=_interopRequireDefault(require("./state")),_symbols=require("./utils/symbols");function States(){this[_symbols.symStatesRegisters]=new Map,this[_symbols.symStatesListener]=function(){}}States.prototype.init=function(a){var b=this;if("object"!==(0,_typeof2["default"])(a)||Array.isArray(a))throw new Error("States require a object");var c=function(c){var d=new _state["default"]({key:c,val:a[c],type:null});d.onChange=function(a){b[_symbols.symStatesListener](c,a)},b[_symbols.symStatesRegisters].set(c,d)};for(var d in a)c(d)},Object.defineProperty(States.prototype,"size",{get:function get(){return this[_symbols.symStatesRegisters].size},enumerable:!0,configurable:!1}),Object.defineProperty(States.prototype,"onListen",{set:function set(a){if("function"!=typeof a)throw new Error("onListen receive a Function");this[_symbols.symStatesListener]=a},enumerable:!0,configurable:!1}),States.prototype.get=function(){var a={},b=!0,c=!1,d=void 0;try{for(var e,f=this[_symbols.symStatesRegisters].entries()[Symbol.iterator]();!(b=(e=f.next()).done);b=!0){var g=(0,_slicedToArray2["default"])(e.value,2),h=g[0],i=g[1];a[h]=i}}catch(a){c=!0,d=a}finally{try{b||null==f["return"]||f["return"]()}finally{if(c)throw d}}return a},States.prototype.toMethod=function(){var a={},b=!0,c=!1,d=void 0;try{for(var e,f=this[_symbols.symStatesRegisters].entries()[Symbol.iterator]();!(b=(e=f.next()).done);b=!0){var g=(0,_slicedToArray2["default"])(e.value,2),h=g[0],i=g[1];a[h]=i.change}}catch(a){c=!0,d=a}finally{try{b||null==f["return"]||f["return"]()}finally{if(c)throw d}}return a};var _default=States;exports["default"]=_default;