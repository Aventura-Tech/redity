"use strict";var _symbols=require("./utils/symbols");Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=_default;function _default(a){var b=this,c=!!(1<arguments.length&&arguments[1]!==void 0)&&arguments[1];this[_symbols.symStateVal]=a.val,this[_symbols.symStateType]=a.type,this[_symbols.symStateOnChange]=function(){},this[_symbols.symStateCountChanges]=0,this[_symbols.symStateHistory]=[],Object.defineProperty(this,"val",{get:function get(){return b[_symbols.symStateVal]},enumerable:!0,configurable:!1}),Object.defineProperty(this,"type",{get:function get(){return b[_symbols.symStateType]},enumerable:!0,configurable:!1}),Object.defineProperty(this,"history",{get:function get(){return!!c&&b[_symbols.symStateHistory]},enumerable:!0,configurable:!1}),Object.defineProperty(this,"changes",{get:function get(){return b[_symbols.symStateCountChanges]},enumerable:!0,configurable:!1}),Object.defineProperty(this,"onChange",{set:function set(a){b[_symbols.symStateOnChange]=a},enumerable:!0,configurable:!1}),this.change=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;return void 0===a?b[_symbols.symStateVal]:JSON.stringify(b[_symbols.symStateVal])===JSON.stringify(a)?b[_symbols.symStateVal]:(c&&b[_symbols.symStateHistory].push(b[_symbols.symStateVal]),b[_symbols.symStateOnChange](a),b[_symbols.symStateVal]=a,b[_symbols.symStateCountChanges]+=1,b[_symbols.symStateVal])},this.changeType=function(a){b._type=a}}